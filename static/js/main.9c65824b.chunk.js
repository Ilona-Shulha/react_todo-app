(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],[,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),a=c(4),l=c.n(a),r=(c(9),c(10),c(11),c(2)),i=c(0),s=o.a.memo((function(e){var t=e.onCreateTodo,c=Object(n.useState)(""),o=Object(r.a)(c,2),a=o[0],l=o[1];return Object(i.jsx)("form",{action:"#",onSubmit:function(e){e.preventDefault(),a&&t(a),l("")},children:Object(i.jsx)("input",{type:"text",className:"new-todo","data-cy":"createTodo",placeholder:"What needs to be done?",value:a,onChange:function(e){l(e.target.value)}})})})),u=o.a.memo((function(e){var t=e.todo,c=e.changeTodo,o=e.removeTodo,a=Object(n.useState)(t.completed),l=Object(r.a)(a,2),s=l[0],u=l[1],d=Object(n.useState)(!1),j=Object(r.a)(d,2),b=j[0],f=j[1],m=Object(n.useState)(t.title),h=Object(r.a)(m,2),O=h[0],p=h[1];return Object(n.useEffect)((function(){return u(t.completed)}),[t.completed]),Object(i.jsx)("li",{className:"".concat(s&&"completed"," ").concat(b&&"editing"),children:b?Object(i.jsx)("input",{type:"text",className:"edit",id:"editTodo",value:O,onChange:function(e){p(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&(e.target.value?(c(t.id,{title:O}),f(!1)):o(t.id)),"Escape"===e.key&&(e.preventDefault(),f(!1))},onBlur:function(e){e.target.value?(c(t.id,{title:O}),f(!1)):o(t.id)}}):Object(i.jsxs)("div",{onDoubleClick:function(){return f(!0)},children:[Object(i.jsx)("input",{type:"checkbox",checked:t.completed,className:"toggle",id:t.id,onClick:function(e){u(e.target.checked),c(t.id,{completed:e.target.checked})}}),Object(i.jsx)("label",{children:t.title}),Object(i.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return o(t.id)}})]})})})),d=o.a.memo((function(e){var t=e.items,c=e.changeAllCompleted,n=e.changeTodo,a=e.removeTodo,l=e.checkedAllCompleted;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:l,onClick:function(e){c(e.target.checked)}}),Object(i.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(i.jsx)("ul",{"data-cy":"todoList",className:"todo-list",children:t.map((function(e){return Object(i.jsx)(o.a.Fragment,{children:Object(i.jsx)(u,{todo:e,removeTodo:a,changeTodo:n})},e.id)}))})]})})),j=function(e){var t=e.removeCompleted,c=e.hiddenBtnDeleteCompleted,o=e.countUncompleted,a=e.filterActive,l=e.filterCompleted,s=e.filterAll,u=Object(n.useState)("all"),d=Object(r.a)(u,2),j=d[0],b=d[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(o," items left")}),Object(i.jsxs)("ul",{className:"filters",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"#/",className:"".concat("all"===j&&"selected"),onClick:function(e){e.preventDefault(),b("all"),s()},children:"All"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"#/active",className:"".concat("active"===j&&"selected"),onClick:function(e){e.preventDefault(),b("active"),a()},children:"Active"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"#/completed",className:"".concat("completed"===j&&"selected"),onClick:function(e){e.preventDefault(),b("completed"),l()},children:"Completed"})})]}),c&&Object(i.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){return t()},children:"Clear completed"})]})},b=function(e,t){return fetch("https://mate.academy/students-api".concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status,"-").concat(e.statusText));return e.json()}))};var f=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)(""),l=Object(r.a)(a,2),u=l[0],f=l[1],m=Object(n.useState)(!1),h=Object(r.a)(m,2),O=h[0],p=h[1],x=Object(n.useState)(!1),v=Object(r.a)(x,2),C=v[0],g=v[1],k=Object(n.useState)(!1),y=Object(r.a)(k,2),N=y[0],T=y[1],S=Object(n.useState)(!1),A=Object(r.a)(S,2),E=A[0],D=A[1],w=Object(n.useState)(0),F=Object(r.a)(w,2),U=F[0],B=F[1],I=Object(n.useState)(3860),J=Object(r.a)(I,1)[0];Object(n.useEffect)((function(){var e;(e=J,b("/users/".concat(e))).then((function(e){return f(e.name.split(" ")[0])})),H()}),[]),Object(n.useEffect)((function(){T(c.every((function(e){return e.completed}))),D(c.some((function(e){return e.completed}))),B(c.reduce((function(e,t){var c=e;return t.completed?c:c+=1}),0))}),[c]);var L=Object(n.useCallback)((function(){p(!0),g(!1)})),M=Object(n.useCallback)((function(){p(!1),g(!0)})),P=Object(n.useCallback)((function(){p(!1),g(!1)})),_=Object(n.useMemo)((function(){switch(!0){case O:return c.filter((function(e){return!e.completed}));case C:return c.filter((function(e){return e.completed}));default:return c}}),[O,C,c]),H=Object(n.useCallback)((function(){var e;(e=J,b("/todos?userId=".concat(e))).then((function(e){o(e)}))}),[]),K=Object(n.useCallback)((function(e){c.length>0&&c.forEach((function(t){W(t.id,{completed:e})}))}),[c]),W=Object(n.useCallback)((function(e,t){var c,n;(c=e,n=t,b("/todos/".concat(c),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})).then((function(){return H()}))}),[]),q=Object(n.useCallback)((function(e){(function(e,t){return b("/todos",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({title:e,userId:t,completed:!1})})})(e,J).then((function(){return H()}))}),[]),z=Object(n.useCallback)((function(e){(function(e){return b("/todos/".concat(e),{method:"DELETE"})})(e).then((function(){return H()}))}),[]),G=Object(n.useCallback)((function(){c.length>0&&c.forEach((function(e){e.completed&&z(e.id)}))}),[c]);return Object(i.jsxs)("section",{className:"todoapp",children:[Object(i.jsxs)("header",{className:"header",children:[Object(i.jsx)("h1",{children:"".concat(u,"'s todos")}),Object(i.jsx)(s,{userId:J,onCreateTodo:q})]}),Object(i.jsx)("section",{className:"main",children:Object(i.jsx)(d,{items:_,removeTodo:z,changeTodo:W,changeAllCompleted:K,checkedAllCompleted:N})}),c[0]&&Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)(j,{removeCompleted:G,countUncompleted:U,filterActive:L,filterCompleted:M,filterAll:P,hiddenBtnDeleteCompleted:E})})]})};l.a.render(Object(i.jsx)(f,{}),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.9c65824b.chunk.js.map